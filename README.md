# 训练营飞书机器人项目

# 基本指引：

1. 服务端SDK: https://open.feishu.cn/document/ukTMukTMukTM/uETO1YjLxkTN24SM5UjN
2. 飞书开放平台：https://open.feishu.cn/?lang=zh-CN

# 功能列表：

## 系统设计workshop发题能力

1. 飞书机器人监听导师群创建消息的@机器人消息。
2. 机器人将消息中的任务文档按照飞书卡片格式拼接：创建飞书卡片消息
3. 获取目标转发群的成员，且随机挑选2-5个人作为答题人，并发@消息，拼接到飞书卡片消息中。
4. 飞书机器人同步为这几个被选中同学创建飞书任务，并将关注人设置为导师成员。

## 新成员进群欢迎能力

1. 监听新成员进群消息
2. 机器人向新成员发送欢迎通知
3. 机器人为新成员和导师团拉群，创建1v1专属群
4. 机器人在专属群中向学员发送提醒以及欢迎事项
5. 机器人同步创建飞书知识空间，并邀请导师团和学员作为成员
6. 创建失败通知导师团手动创建

## 长时间不活跃群消息提醒

1. 定时任务扫描bot所在的群
2. 白名单以及按照机制过滤不需要通知的群
3. 对需要发送的群发送消息

# TODO List

- [ ] 实现对user_access_token的管理

- 实现oauth
- 实现获得access_token后的自动刷新（双活token机制，不需要redis去重）

- [ ] 基于云文档的周报管理

- https://open.feishu.cn/document/home/management-weekly-report-based-docs/introduction
- 通过周报模版文档每周定时创建出新一周周报，并给团队成员授权文档编辑权限，自动将新周报文档归档到知识库指定节点，然后通过群机器人发送群消息通知所有人更新本周周报内容